<template>
  <div>
    <Header/>

    <div class="arrow">
      <svg xmlns="http://www.w3.org/2000/svg" width="23.616" height="13.503" viewBox="0 0 23.616 13.503">
        <path id="Icon_ionic-ios-arrow-down" data-name="Icon ionic-ios-arrow-down" d="M18,20.679l8.93-8.937a1.681,1.681,0,0,1,2.384,0,1.7,1.7,0,0,1,0,2.391L19.2,24.258a1.685,1.685,0,0,1-2.327.049L6.68,14.14a1.688,1.688,0,0,1,2.384-2.391Z" transform="translate(-6.188 -11.246)" fill="#fff"/>
      </svg>
    </div>

    <div class="beforeShow" :class="{ beforeShowARemove: beforeShowARemove }">
      <div class="container">
        <div class="content">
          <div class="bloc">
            <div class="logo">
              <img src="@/assets/images/logo.svg" alt="">
            </div>
            <div class="btn">
              <span @click="MapShow = !MapShow, beforeShowARemove = !beforeShowARemove">
                Découvrir la Thaïlande
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="top"></div>
      <div class="bottom"></div>
      <div class="background">
      </div>
    </div>

    <div class="map" :class="{ BigMap: MapShow }">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 334.863 638.234">
          <path id="Tracé_2" data-name="Tracé 2" d="M1668.017,409.252q-5.545,22.26-11.009,44.541a9.143,9.143,0,0,0,3.121,9.79c6.85,5.654,13.788,11.208,20.848,16.6,3.419,2.61,7.565,1.919,10.873-1.591,5.672-6.023,11.207-12.175,16.8-18.277q3.222-3.517,6.426-7.05l-11.121-10.888a10.721,10.721,0,0,0-1.47,1.073c-5.4,5.529-10.843,11.024-16.137,16.656-1.462,1.556-2.537,1.688-4.122.319a42.7,42.7,0,0,0-5.892-4.505c-2.2-1.308-2.5-2.9-1.913-5.167q3.623-13.913,7.075-27.87a4.51,4.51,0,0,0,.115-1.088,6.026,6.026,0,0,1,.862-3.177,2.707,2.707,0,0,0,.3-.647c.822-2.773,1.427-5.612,2.279-8.376q3.882-12.592,7.9-25.143c1.968-6.148-2.194-11.6-8.353-11.23-6.392.382-12.809.341-19.214.5-2.546.064-3.463-.9-2.952-3.588,1.2-6.3,2.23-12.636,3.172-18.981.81-5.454-1.664-8.942-7.052-10.233-7.338-1.758-14.745-3.263-22.008-5.288a13.44,13.44,0,0,0-12.482,2.135c-12.474,8.892-25.18,17.46-37.876,26.037a13.088,13.088,0,0,1-5.412,1.982c-10.457,1.413-20.937,2.649-31.411,3.928-4.5.55-7.358,2.779-8.518,7.56a140.347,140.347,0,0,1-5.282,17.507,72.884,72.884,0,0,0-5.263,28.2c.218,10.348-.337,20.717-.716,31.072a12.118,12.118,0,0,0,2.833,8.566q21.14,26.05,42.084,52.256a5.6,5.6,0,0,1,1.146,4.124q-4.021,17.361-8.489,34.616a5.076,5.076,0,0,1-2.47,2.729c-3.381,1.763-7.046,3.014-10.325,4.934-4.593,2.689-7.049,7.744-2.453,12.95,2.858,3.236,5.3,6.837,8,10.215,8.855,11.065,17.776,22.077,26.577,33.186a8.885,8.885,0,0,1,1.859,4.393c1.261,9.955,1.924,20,3.588,29.888,2.9,17.227,6.41,34.35,9.566,51.535a5.77,5.77,0,0,1-.655,3.723q-12.279,20.151-24.756,40.18c-4.048,6.5-8.359,12.834-12.351,19.365a14.827,14.827,0,0,0-2.085,5.956c-1.525,12.66-2.853,25.344-4.257,38.019q-2.528,22.829-5.074,45.658a8.4,8.4,0,0,0,3.225,7.945c9.792,7.984,19.683,15.852,29.288,24.055,5.388,4.6,11.68,8.208,15.658,14.436q8.57,13.418,17.645,26.51a14.723,14.723,0,0,0,5.341,4.683c7.886,4.094,15.941,7.861,23.925,11.767q26.341,12.887,52.676,25.789c6.018,2.944,8.9,2.107,13.067-3.4,3.662-4.841,7.507-9.545,11.287-14.294,4.487-5.638,3.709-10.652-2.3-14.722-1.97-1.333-3.9-2.726-5.839-4.1q-30.6-21.749-61.2-43.492c-4.06-2.88-4.37-2.975-1.81-7.132,3.216-5.222,2.76-10.038.569-15.576-5.1-12.874-9.588-25.987-14.314-39.007-1.976-5.443-3.906-10.9-5.9-16.338-1.36-3.713-3.833-5.965-7.965-6.377-3.807-.38-7.564-1.316-11.374-1.6-2.748-.206-3.39-1.136-2.607-3.7,1.965-6.432,3.8-12.9,5.653-19.369,6.568-22.932,12.855-45.948,19.8-68.765a114.274,114.274,0,0,0,4.648-31.147c.3-13.874.8-27.745,1.3-41.614.031-.847.669-2.291,1.232-2.4,4.834-.953,9.717-1.662,14.829-2.483.226,1.724.5,3.028.553,4.341.469,11.49.993,22.979,1.293,34.474.114,4.392,2.026,7.175,5.987,8.85,8.745,3.7,17.462,7.462,26.183,11.217q22.233,9.574,44.461,19.163c4.2,1.806,8.628.976,10.346-2.635,4.118-8.65,8.189-17.361,11.531-26.327a20.31,20.31,0,0,0-1.927-18.549q-8.415-13.018-17.376-25.676c-1.518-2.135-1.548-3.171.425-4.764,7.317-5.908,14.626-11.834,21.747-17.975a11.919,11.919,0,0,1,6.945-2.919c4.221-.43,8.439-.9,12.66-1.332q36.916-3.769,73.832-7.534c4.712-.483,7.547-3.268,7.855-7.711.264-3.813.545-7.633.572-11.452.108-15.128.073-30.258.191-45.386.043-5.53-1.445-10.375-5.257-14.488-6.194-6.683-12.235-13.508-18.51-20.111a8.065,8.065,0,0,1-2.551-6.273c.209-9.011.129-18.029.194-27.044a13.5,13.5,0,0,0-4.107-10.332c-4.437-4.344-8.6-8.969-12.951-13.4q-15.656-15.946-31.394-31.811c-3.367-3.389-7.361-3.559-11.169-.6-2.533,1.97-4.9,4.155-7.47,6.074q-11.795,8.815-23.722,17.451c-1.071.773-2.951,1.671-3.845,1.24a144.483,144.483,0,0,1-16.082-8.639c-3.8-2.465-7.6-3.484-11.285-1.155-4.392,2.776-8.244,6.4-12.331,9.663l11.121,10.888c.2-.022.5.03.579-.078,3.317-4.641,7.1-3.654,11.06-.965,3.139,2.133,6.355,4.159,9.431,6.379,2.573,1.857,5.476,3.21,8.4,2a81.772,81.772,0,0,0,14.57-7.345c7.449-5.036,14.506-10.666,21.586-16.227,1.935-1.52,3.121-1.675,4.889.163,11.413,11.86,22.963,23.588,34.318,35.5a8.2,8.2,0,0,1,1.973,5.181c.026,9.113-.07,18.236-.52,27.337-.222,4.494,1.52,7.7,4.533,10.7,6.235,6.209,12.307,12.582,18.5,18.836a12.373,12.373,0,0,1,3.653,9.256c-.145,14.71-.337,29.419-.349,44.13,0,2.532-1.317,2.866-3.2,3.061-10.81,1.119-21.616,2.273-32.427,3.386-14.928,1.538-29.832,3.462-44.8,4.392-7.162.445-12.117,3.909-17.131,8.142-9.488,8.01-19.06,15.918-28.6,23.859-3.871,3.22-4.222,7.613-1.064,11.726,5.858,7.631,11.711,15.269,17.416,23.016a47.691,47.691,0,0,1,5.067,8.519,9.417,9.417,0,0,1,.741,5.886,153.694,153.694,0,0,1-5.206,14.895,2.049,2.049,0,0,1-2.715,1.137c-13.962-6-27.861-12.144-41.779-18.245-4.823-2.114-9.628-4.281-14.519-6.225-2.074-.824-2.712-2.119-2.8-4.2-.448-10.965-.945-21.929-1.546-32.886a48.458,48.458,0,0,0-1.189-8.269c-1.019-4.387-4.6-7.392-9.049-6.866-10.143,1.2-20.3,2.515-30.315,4.461-6.508,1.264-8.251,5.2-8.106,11.883.2,9.311-.266,18.638-.517,27.956-.24,8.9-.854,17.8-.771,26.7.067,7.135-2.394,13.573-4.273,20.21q-6.332,22.369-12.662,44.739c-.533,1.87-1.433,3.637-1.95,5.512-2.556,9.267-4.954,18.578-7.581,27.824-1.892,6.659-4.159,13.21-6.068,19.864-1.76,6.139.963,10.338,7.3,11.395,5.511.92,11.047,1.7,16.586,2.437a4.391,4.391,0,0,1,4.009,3.219c5.7,15.876,11.576,31.693,17.183,47.6a9.567,9.567,0,0,1-.379,5.839c-1.052,3.011-2.792,5.775-4.04,8.728-1.9,4.5-.842,8.021,3.144,10.861q29.7,21.153,59.433,42.255c3.772,2.671,7.73,5.078,11.89,7.794l-4.884,6.345c-7.493-3.665-14.823-7.243-22.149-10.833q-23.935-11.73-47.845-23.51a7.675,7.675,0,0,1-2.946-2.573c-5.29-7.793-10.725-15.5-15.621-23.541-3.612-5.93-8.787-10.089-13.981-14.344-9.931-8.135-19.9-16.219-29.748-24.46a5.19,5.19,0,0,1-1.606-3.863c1.182-12.151,2.59-24.28,3.9-36.419,1.349-12.522,2.6-25.055,4.042-37.567a14.214,14.214,0,0,1,1.9-5.751c11.943-19.117,23.785-38.3,36.172-57.131,3.365-5.114,3.345-9.842,2.288-15.252-3.409-17.454-6.891-34.9-9.939-52.417a169.084,169.084,0,0,1-2.638-24.668c-.182-7.306-3.373-12.643-7.813-17.94-8.646-10.316-16.948-20.92-25.386-31.41-.443-.551-.828-1.146-1.419-1.969,1.879-.948,3.551-1.915,5.316-2.659a10.757,10.757,0,0,0,7.072-8.987c.455-3.243,1.3-6.437,2.07-9.627,2.552-10.524,5.093-21.05,7.765-31.543a10.3,10.3,0,0,0-2.06-9.814q-21.643-26.637-43.036-53.476a7.5,7.5,0,0,1-1.427-4.436c.092-9.945.688-19.894.5-29.828-.13-6.7,1.709-12.841,3.621-19.052,1.522-4.941,3.172-9.844,4.563-14.82.458-1.638,1.24-2.009,2.789-2.178,8.533-.927,17.036-2.151,25.578-2.963,7.432-.706,13.015-5.037,18.811-8.97q14.387-9.76,28.6-19.774a6.38,6.38,0,0,1,6.819-.645,29.633,29.633,0,0,0,7.651,1.911c2.642.318,3.475,1.286,3.07,3.476-1.222,6.609-2.316,13.241-3.524,19.853-1,5.472,3.541,11.358,9.152,11.646,5.275.271,10.556.424,15.834.635,1.2.048,2.407.126,3.764.2" transform="translate(-1529.569 -334.965)" fill="#fff" opacity="0.1"/>
      </svg>
      <div class="pin" :class="{
        pin_1: scrollPosition > top[0], 
        pin_2: scrollPosition > top[1],
        pin_3: scrollPosition > top[2],
        pin_4: scrollPosition > top[3]
        }">
      </div>
    </div>

    
    <div class="site">

      <div class="background" :class="{
        change_bg: scrollPosition > top[0], 
        change_bg2: scrollPosition > top[1],
        change_bg3: scrollPosition > top[2],
        change_bg4: scrollPosition > top[3] 
        }">
      </div>

      <div class="container">
        <div class="siteContainer">
          <div class="left">
            <div class="menu">
              Chapitres
            </div>
          </div>
          <div class="right">
            <Nuxt />
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import Header from '@/components/Header.vue'
import Before from '@/components/Before.vue'


export default {
  components: {
    Header,
    Before
  },


  data() {
    return {
      beforeShowARemove: false,
      MapShow: true,

      scrollPosition: null,
      bangkokPosition: 300,
      isanPosition: 3100,
      chiangmaiPosition: 4900,
      sudPosition: 300100,

      top: [],
      size: null
    }
  },

  head () {
    return {
      bodyAttrs: {
        class: [
          this.MapShow ? 'overlay-opened' : '', 
        ]
      }
    }
  },

  

  methods: {
    updateScroll() {
       this.scrollPosition = window.scrollY
    },
  },

  mounted() {
    window.addEventListener('scroll', this.updateScroll);

    for(let i = 0; i < 4; i++) {
      var size = window.innerHeight;
      var offsets = document.getElementById('bk-'+i).getBoundingClientRect();
      this.top[i] = offsets.top - (size / 2);
      this.size = size
    }
  },
}
</script>

<style lang="scss">
  @import '@/assets/scss/style.scss'
</style>